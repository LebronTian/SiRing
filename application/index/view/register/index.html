<!DOCTYPE html >
<html>
<head>
    <meta name="Generator" content="ECSHOP v2.7.3" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>用户中心_用户商城  </title>
    <meta name="Keywords" content="" />
    <meta name="Description" content="" />
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
    <link rel="stylesheet" type="text/css" href="__STATIC__/index/css/public.css"/>
    <link rel="stylesheet" type="text/css" href="__STATIC__/index/css/login.css"/>
</head>
<script>
<header id="header" class='header'>
    <div class="h-left">
        <a href="javascript:history.back(-1)" class="back"></a></div>
    <div class="h-mid">用户注册</div>
</header>
<div id="tbh5v0">

    <!--<script type="text/javascript">-->

        <!--$().ready(function(){-->

<!--//            setCurrentForm($("#mobileForm"));-->

            <!--//判断点击验证码-->
            <!--var is_mob_log = true;-->
            <!--$("#mobileForm").find(".check-code-img").click();-->
            <!--//登录切换-->
            <!--$("#logRegTab li").bind("click", function () {-->
                <!--if (this.id == "mob_log") {-->

                    <!--if(is_mob_log){-->
                        <!--return;-->
                    <!--}-->
                    <!--is_mob_log = true;-->
                    <!--$("#mob_log").removeClass("currl");-->
                    <!--$("#acc_log").addClass("currr");-->
                    <!--$("#phonearea").removeClass("hide");-->
                    <!--$("#accountarea").addClass("hide");-->

                    <!--setCurrentForm($("#mobileForm"));-->

                    <!--$("#mobileForm").find(".check-code-img").click();-->
                <!--} else {-->
                    <!--if(!is_mob_log){-->
                        <!--return;-->
                    <!--}-->
                    <!--is_mob_log = false;-->
                    <!--$("#acc_log").removeClass("currr");-->
                    <!--$("#mob_log").addClass("currl");-->
                    <!--$("#phonearea").addClass("hide");-->
                    <!--$("#accountarea").removeClass("hide");-->

                    <!--setCurrentForm($("#emailForm"));-->

                    <!--$("#emailForm").find(".check-code-img").click();-->
                <!--}-->
                <!--$(".btn_log").css("color","#FFFEFE");-->

            <!--});-->
        <!--});-->
    <!--</script>-->


    <div class="log_reg_box">
        <ul class="tab" id="logRegTab">
            <li id="mob_log" class="curr" style="cursor:pointer;">
						<span>
							<font>手机注册</font>
						</span>
            </li>
            <li id="acc_log" class="curr currr" style="cursor:pointer;">
						<span>
							<font>邮箱注册</font>
						</span>
            </li>
        </ul>
        <div id="logRegTabCon">
            <div class="log_reg_item" id="phonearea">
                <form action="" id="mobileForm" name="mobileForm" method="post">
                    <input type="hidden" id="register_type" name="register_type" value="mobile" />

                    <div class="field phone">
                        <input type="text" id="mobile" name="mobile" placeholder="手机号" class="c-form-txt-normal" onblur="checkMobilePhone(this);" />
                        <div class="tips">
                            <span id="mobile_phone_notice"></span>
                        </div>
                    </div>
                    <div class="field pwd">
                        <input type="password" id="password" name="password" placeholder="密码" class="c-form-txt-normal" onblur="check_password(this.value);" />
                        <div class="tips">
                            <span id="password_notice"></span>
                        </div>
                    </div>
                    <div class="field pwd">
                        <input type="password" id="confirm_password" name="confirm_password" placeholder="确认密码" class="c-form-txt-normal" onblur="check_confirm_password(this.value);" />
                        <div class="tips">
                            <span id="confirm_password_notice"></span>
                        </div>
                    </div>
                    <div class="field no">
                        <!--<div class="ptxt st">-->
                            <!--<input type="text" name="extend_field1" value="" placeholder="重点用户" id="extend_field_1" class="c-f-text" />-->
                        <!--</div>-->
                        <div class="tips">
                            <span id="1_notice"> </span>
                        </div>
                    </div>
                    <div class="yanzheng"  style=" margin-top:0px;">
                        <div class="codeTxt">
                            <input type="text" id="mobile_code" name="mobile_code" placeholder="手机验证码" />
                        </div>
                        <div class="codePhoto">
                            <input id="zphone" type="button" value="获取手机验证码 " onclick="yzm()" class="zphone" style="color:#FFF;cursor:pointer;" />
                        </div>
                    </div>
                    <input type="submit"  name="Submit" class="btn_big1" value="注 册" />
                    <input type="hidden" name="act" value="register" />
                    <input type="hidden" name="back_act" value="" />
                </form>
            </div>
            <div class="log_reg_item hide" id="accountarea">
                <form action="" method="post" id="emailForm" name="emailForm" >
                    <input type="hidden" id="register_type" name="register_type" value="email" />
                    <div class="field email">
                        <div class="st">
                            <input type="email" name="email" placeholder="邮箱地址" value="" class="c-form-txt-normal" id="email" onblur="" />
                        </div>
                        <div class="tips">
                            <span id="email_notice"></span>
                        </div>
                    </div>
                    <div class="field pwd">
                        <div>
                            <input type="password" name="password" id="password" onblur="" value="" placeholder="密码" class="c-form-txt-normal" />
                        </div>
                        <div class="tips">
                            <span id="password_notice"> </span>
                        </div>
                    </div>
                    <div class="field pwd">
                        <div>
                            <input type="password" name="confirm_password" id="confirm_password" onblur="check_confirm_password(this.value);" value="" placeholder="确认密码" class="c-form-txt-normal">
                        </div>
                        <div class="tips">
                            <span id="confirm_password_notice"> </span>
                        </div>
                    </div>
                    <div class="yanzheng" style=" margin-top:0px;">
                        <div class="codeTxt">
                            <input type="text" id="email_code" name="email_code" placeholder="邮箱验证码"/></div>
                        <div class="codePhoto">
                            <input id="zemail" type="button" value="获取邮箱验证码" class="zphone" style="color:#FFF;cursor:pointer;" />
                        </div>
                    </div>

                    <input type="checkbox" style="display: none" name="agreement" value="1" checked="checked" required />
                    <input type="submit" name="Submit" class="btn_big1" style="cursor:pointer;" value="注 册" />
                    <input type="hidden" name="act" value="register" />
                    <input type="hidden" name="back_act" value="" />


                </form>
            </div>
        </div>
    </div>

    <div class="footer" >
        <div class="links"  id="ECS_MEMBERZONE">
            <a href="login.html">
                <span>登录</span>
            </a>

            <a href="#">
                <span>反馈</span>
            </a>
            <a href="javascript:window.scrollTo(0,0);">
                 <span>回顶部</span>
             </a>
        </div>
        <ul class="linkss" >
            <li>
                <a href="#">
                    <i class="footerimg_1"></i>
                    <span >客户端</span></a></li>
            <li>
                <a href="javascript:;"><i class="footerimg_2"></i><span class="gl">触屏版</span></a></li>
            <li><a href="" class="goDesktop"><i class="footerimg_3"></i><span>电脑版</span></a></li></ul>
        <p class="mf_o4">&copy; 2018-2018</p>
    </div>
</div>

<script>

    function isPoneAvailable(str) {
        var myreg=/^[1][3,4,5,7,8][0-9]{9}$/;
        if (!myreg.test(str)) {
            alert('请输入有效的手机号码');
            return;
        }
    }
</script>
<script>
    function yzm() {
        var mobile = $("#mobile").val();
        if(!mobile){
            alert("手机号码不能为空");
            return;
        }
        isPoneAvailable(mobile);
        $.ajax({
            url:"{:url('index/Register/sendMobileCode')}",
            type:"POST", //GET
            async:false, //或true，异步请求
            timeout:2000,
            data:{'mobile':mobile},
            dataType:"json",
            success:function(data){
                console.log(data);
            },
            error:function () {
                console.log("错误");
            }
        })
    }
</script>
<script>
    $('#btn_submit1').click(function () {
        /*手机*/
        var mobile_phone =$('#mobile').val();
        var password = $('#password').val();
        var confirm_password = $('#confirm_password').val();
        var mobile_code = $('#mobile_code').val();

            $.ajax({
            url: "{:url('index/register/doRegByPhone')}",
            type: 'POST',
            async: false,
            dataType: 'json',
            data: {
                "mobile_phone": mobile_phone,
                "password":password,
                "confirm_password":confirm_password,
                "mobile_code":mobile_code,
            },
            success: function(data){
                aler(data);
                alert(data.msg);
            },
            error: function(data){
                console.log('失败');
            }
        })
    });
    $('#btn_submit2').click(function () {
        /*邮箱*/
        var password = $('#password').val();
        var confirm_password = $('#confirm_password').val();
        var email =$('#email').val();
        var email_code =$('#email_code').val();
        $.ajax({
            url: "{:url('index/register/doRegByEmail')}",
            type: 'POST',
            async: false,
            dataType: 'json',
            data: {
                "password":password,
                "confirm_password":confirm_password,
                "email_code":email_code,
                "email":email,
            },
            success: function(data){
                alert(data.msg);
            },
            error: function(data){
                console.log('失败');
            }
        })
    })
</script>
</body>
</html>